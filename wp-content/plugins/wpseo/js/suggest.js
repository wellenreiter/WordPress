(function(g){g.fn.wpseo_suggest=function(){return this.each(function(){function f(a){a.data("suggest").empty().hide()}function h(a){var c=a.val(),b=c.lastIndexOf(","),d=a.data("lang"),e=a.data("phrase"),h=a.data("suggest");(c=-1==b?c:c.substring(b+1).replace(/^\s+/,""))?2>c.length||c==e||(a.data("phrase",c),e=c.toLowerCase(),g.ajax({url:"http://www.google.de/s",dataType:"jsonp",data:{q:e,hl:d,cp:1,gs_id:6,xhr:"t"},success:function(b){if(b[1].length){var c="";jQuery.each(b[1],function(a,b){e!=b[0]&&
(c+="<li>"+b[0].replace(e,"<strong>"+e+"</strong>")+"</li>")});c?h.html(c).show():f(a)}else f(a)},error:function(){f(a)}})):f(a)}function i(a,c){var b=a.data("suggest");if(!b.is(":hidden")&&(b=b.children(),b.length)){var d={},e=b.filter(".act");e.length&&(d="up"==c?e.prev():e.next());d.length||(d="up"==c?b.filter(":last"):b.eq(0));b.removeClass("act");d.addClass("act")}}var d=g(this);(function(a){var c=g('<ul class="wpseo_suggest"></ul>').css({top:a.offset().top+a.outerHeight()+1,left:a.offset().left,
width:a.outerWidth()-2});g("body").append(c);a.data("suggest",c)})(d);d.data("lang",wpseo_vars.lang.substr(0,2)).focusout(function(){f(d)}).keyup(function(a){switch(a.keyCode){case 38:i(d,"up");break;case 40:i(d,"down");break;case 27:f(d);break;case 13:break;default:h(d)}}).keydown(function(a){if(13==a.keyCode){var c=d.data("phrase"),b=d.data("suggest");b.is(":hidden")||(b=b.children(".act"),b.length&&(d.val(d.val().replace(RegExp(c+"$"),b.text())),f(d)));a.preventDefault()}})})}})(jQuery);
jQuery(function(g){jQuery.each(wpseo_vars.items.split(", "),function(f,h){g(h).wpseo_suggest()})});