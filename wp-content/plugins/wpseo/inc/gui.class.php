<?php class wpSEO_GUI{public static function init_menu(){if(!current_user_can('manage_options')or wpSEO_Feedback::get('critical')or wpSEO_License::expired()){return;}define('WPSEO_MENU', add_options_page('wpSEO',(wpSEO_Options::get('misc_hide_icon')? '' :('<img src="' .wpSEO::plugin_url('img/icon.png'). '" width="11" height="9" border="0" alt="wpSEO" /> ')). 'wpSEO', 'manage_options', 'wpseo', array(__CLASS__, 'show_page'))); add_action('load-' .WPSEO_MENU, array(__CLASS__, 'add_page')); add_action('admin_print_styles-' .WPSEO_MENU, array(__CLASS__, 'add_css')); add_action('admin_print_scripts-' .WPSEO_MENU, array(__CLASS__, 'add_js'));}public static function init_columns($columns, $page){if($page==WPSEO_MENU){$columns[WPSEO_MENU]=2;}return $columns;}public static function add_css(){$data=get_plugin_data(WPSEO_FILE); wp_register_style('wpseo', wpSEO::plugin_url('css/style.css'), array(), $data['Version']); wp_enqueue_style('wpseo');}public static function add_js(){$data=get_plugin_data(WPSEO_FILE); wp_register_script('wpseo', wpSEO::plugin_url('js/script.js'), array('jquery', 'jquery-ui-core', 'jquery-ui-sortable'), $data['Version']); wp_enqueue_script('wpseo');}public static function save_changes(){wpSEO::check_security(); if(empty($_POST)or empty($_POST['_wpseo_action'])or !in_array($_POST['_wpseo_action'], array('reset', 'import', 'export', 'update'))){wp_die(__('Cheatin&#8217; uh?'));}switch((string)$_POST['_wpseo_action']){case 'reset': wpSEO_Options::reset(); break; case 'import': case 'export': require_once WPSEO_DIR. '/inc/tools.class.php'; new wpSEO_Tools($_POST['_wpseo_action']); break; case 'update': if(get_magic_quotes_gpc()){$_POST=array_map('stripslashes_deep', $_POST);}wpSEO_Options::update(array('title_manually'=>(int)(!empty($_POST['title_manually'])), 'title_column'=>(int)(!empty($_POST['title_column'])), 'title_suggest'=>(int)(!empty($_POST['title_suggest'])), 'title_manually_only'=>(int)(!empty($_POST['title_manually_only'])), 'desc_manually'=>(int)(!empty($_POST['desc_manually'])), 'desc_column'=>(int)(!empty($_POST['desc_column'])), 'desc_suggest'=>(int)(!empty($_POST['desc_suggest'])), 'key_manually'=>(int)(!empty($_POST['key_manually'])), 'key_column'=>(int)(!empty($_POST['key_column'])), 'key_suggest'=>(int)(!empty($_POST['key_suggest'])), 'key_button'=>(int)(!empty($_POST['key_button'])), 'noindex_manually'=>(int)(!empty($_POST['noindex_manually'])), 'robots_column'=>(int)(!empty($_POST['robots_column'])), 'canonical_manually'=>(int)(!empty($_POST['canonical_manually'])), 'canonical_column'=>(int)(!empty($_POST['canonical_column'])), 'redirect_manually'=>(int)(!empty($_POST['redirect_manually'])), 'redirect_column'=>(int)(!empty($_POST['redirect_column'])), 'ignore_manually'=>(int)(!empty($_POST['ignore_manually'])), 'ignore_column'=>(int)(!empty($_POST['ignore_column'])), 'tax_manually'=>(int)(!empty($_POST['tax_manually'])), 'title_enable'=>(int)(!empty($_POST['title_enable'])), 'title_channel_home'=>(array)explode(',', sanitize_text_field($_POST['title_channel_home'])), 'title_channel_single'=>(array)explode(',', sanitize_text_field($_POST['title_channel_single'])), 'title_channel_page'=>(array)explode(',', sanitize_text_field($_POST['title_channel_page'])), 'title_channel_posttype'=>(array)explode(',', sanitize_text_field($_POST['title_channel_posttype'])), 'title_channel_category'=>(array)explode(',', sanitize_text_field($_POST['title_channel_category'])), 'title_channel_search'=>(array)explode(',', sanitize_text_field($_POST['title_channel_search'])), 'title_channel_archive'=>(array)explode(',', sanitize_text_field($_POST['title_channel_archive'])), 'title_channel_tagging'=>(array)explode(',', sanitize_text_field($_POST['title_channel_tagging'])), 'title_channel_author'=>(array)explode(',', sanitize_text_field($_POST['title_channel_author'])), 'title_channel_tax'=>(array)explode(',', sanitize_text_field($_POST['title_channel_tax'])), 'title_channel_attachment'=>(array)explode(',', sanitize_text_field($_POST['title_channel_attachment'])), 'title_desc_home'=> sanitize_text_field($_POST['title_desc_home']), 'title_desc_home_home'=> sanitize_text_field(@$_POST['title_desc_home_home']), 'title_desc_single'=> sanitize_text_field($_POST['title_desc_single']), 'title_desc_page'=> sanitize_text_field($_POST['title_desc_page']), 'title_desc_posttype'=> sanitize_text_field($_POST['title_desc_posttype']), 'title_desc_category'=> sanitize_text_field($_POST['title_desc_category']), 'title_desc_search'=> sanitize_text_field($_POST['title_desc_search']), 'title_desc_archive'=> sanitize_text_field($_POST['title_desc_archive']), 'title_desc_tagging'=> sanitize_text_field($_POST['title_desc_tagging']), 'title_desc_author'=> sanitize_text_field($_POST['title_desc_author']), 'title_desc_tax'=> sanitize_text_field($_POST['title_desc_tax']), 'title_desc_attachment'=> sanitize_text_field($_POST['title_desc_attachment']), 'title_separator'=> sanitize_text_field($_POST['title_separator']), 'title_cleanup'=>(int)(!empty($_POST['title_cleanup'])), 'title_case'=>(int)$_POST['title_case'], 'desc_enable'=>(int)(!empty($_POST['desc_enable'])), 'desc_home'=>(int)@$_POST['desc_home'], 'desc_single'=>(int)@$_POST['desc_single'], 'desc_page'=>(int)@$_POST['desc_page'], 'desc_posttype'=>(int)@$_POST['desc_posttype'], 'desc_category'=>(int)@$_POST['desc_category'], 'desc_search'=>(int)@$_POST['desc_search'], 'desc_archive'=>(int)@$_POST['desc_archive'], 'desc_tagging'=>(int)@$_POST['desc_tagging'], 'desc_author'=>(int)@$_POST['desc_author'], 'desc_tax'=>(int)@$_POST['desc_tax'], 'desc_attachment'=>(int)@$_POST['desc_attachment'], 'desc_counter'=>(int)@$_POST['desc_counter'], 'desc_tender'=>(int)(!empty($_POST['desc_tender'])), 'desc_default'=> sanitize_text_field($_POST['desc_default']), 'desc_default_home'=> sanitize_text_field(@$_POST['desc_default_home']), 'noindex_enable'=>(int)(!empty($_POST['noindex_enable'])), 'noindex_canonical'=>(int)(!empty($_POST['noindex_canonical'])), 'noindex_age'=>(int)(!empty($_POST['noindex_age'])), 'noindex_hidden'=>(int)(!empty($_POST['noindex_hidden'])), 'noindex_home'=>(int)@$_POST['noindex_home'], 'noindex_single'=>(int)@$_POST['noindex_single'], 'noindex_page'=>(int)@$_POST['noindex_page'], 'noindex_posttype'=>(int)@$_POST['noindex_posttype'], 'noindex_category'=>(int)@$_POST['noindex_category'], 'noindex_search'=>(int)@$_POST['noindex_search'], 'noindex_archive'=>(int)@$_POST['noindex_archive'], 'noindex_tagging'=>(int)@$_POST['noindex_tagging'], 'noindex_author'=>(int)@$_POST['noindex_author'], 'noindex_tax'=>(int)@$_POST['noindex_tax'], 'noindex_attachment'=>(int)@$_POST['noindex_attachment'], 'misc_noodp'=>(int)(!empty($_POST['misc_noodp'])), 'misc_noarchive'=>(int)(!empty($_POST['misc_noarchive'])), 'speed_nocheck'=>(int)$_POST['speed_nocheck'], 'misc_lang'=>(string)preg_replace('/[^den_]/i', '', $_POST['misc_lang']), 'misc_order'=>(array)explode(',', preg_replace('/[^title|desc|keys|,]/', '', $_POST['misc_order'])), 'misc_monitor'=>(int)(!empty($_POST['misc_monitor'])), 'misc_monitor_theme'=>(int)(!empty($_POST['misc_monitor_theme'])), 'misc_section'=>(int)(!empty($_POST['misc_section'])), 'misc_nextpage'=>(int)(!empty($_POST['misc_nextpage'])), 'misc_nextpage_rewrite'=>(int)(!empty($_POST['misc_nextpage_rewrite'])), 'misc_hide_icon'=>(int)(!empty($_POST['misc_hide_icon'])), 'misc_attachment'=>(int)(!empty($_POST['misc_attachment'])), 'misc_attachment_limit'=>(int)(!empty($_POST['misc_attachment_limit'])), 'misc_attachment_complete'=>(int)(!empty($_POST['misc_attachment_complete'])), 'paged_archive'=>(int)(!empty($_POST['paged_archive'])))); break; default: break;}if(class_exists('Cachify')&& method_exists('Cachify', 'flush_cache')){Cachify::flush_cache();}wpSEO::redirect_referer(array('updated'=> 'true'));}public static function add_page(){wp_enqueue_script('common'); wp_enqueue_script('wp-lists'); wp_enqueue_script('postbox'); $attr=array('custom'=> 'Custom fields', 'title'=> 'Pagetitle', 'desc'=> 'Description', 'noindex'=> 'Duplicate content', 'perform'=> 'Performance', 'misc'=> 'Advanced', 'tools'=> 'Tools'); foreach($attr as $k=> $v){add_meta_box('metabox_' .$k, esc_html__($v, 'wpseo'), array(__CLASS__, 'metabox_' .$k), WPSEO_MENU, 'side', 'core');}if(wpSEO::is_wp('3.3')){add_screen_option('layout_columns', array('max'=> 2, 'default'=> 2)); $screen=get_current_screen(); $screen->add_help_tab(array('id'=> 'wpseo-helpdesk', 'title'=> esc_html__('wpSEO Helpdesk', 'wpseo'), 'content'=> sprintf('<p>%s</p><p>%s</p>', esc_html__('wpSEO contains more than 100 options. Most options are directly linked to the corresponding point in the online manual, where the specific option is described in detail. Below the link to the wpSEO Helpdesk with descriptions of all the available functions of wpSEO.', 'wpseo'), '<a href="http://helpdesk.wpseo.de" target="_blank">' .esc_html__('wpSEO Helpdesk', 'wpseo'). '</a>'))); $screen->set_help_sidebar('<p><strong>' .__('For more information:'). '</strong></p>' . '<p><a href="https://plus.google.com/b/106964298865639944324/" target="_blank">Google+</a></p>' . '<p><a href="http://wpseo.de/imprint/" target="_blank">Support</a></p>');}else{add_filter('screen_layout_columns', array(__CLASS__, 'init_columns'), 10, 2); if(!get_user_option('screen_layout_' .WPSEO_MENU)){add_filter('get_user_option_screen_layout_' .WPSEO_MENU, create_function('', 'return 2;'));}}}private static function _the_list($ids, $prefix, $dict){if(empty($ids)or !is_array($ids)or empty($prefix)){return;}foreach($ids as $id){echo sprintf('<li id="%s">%s</li>', esc_attr($prefix. '_' .$id), esc_html__($dict[$id], 'wpseo'));}}public static function show_page(){?>		<div id="wpseo_changes_form" class="wrap">			<?php screen_icon('wpseo')?>     		<h2>				wpSEO			</h2>			<form action="<?php echo admin_url('admin-post.php')?>" method="post">				<?php wp_nonce_field('_wpseo_nonce')?>				<?php wp_nonce_field('closedpostboxes', 'closedpostboxesnonce', false)?>				<?php wp_nonce_field('meta-box-order', 'meta-box-order-nonce', false)?>				<input type="hidden" name="action" value="save_wpseo_changes" />				<input type="hidden" name="_wpseo_action" value="update" />				<div id="poststuff" class="metabox-holder <?php echo($GLOBALS['screen_layout_columns']==2 ? 'has-right-sidebar' : '')?>">					<div id="side-info-column" class="postbox-container">						<?php do_meta_boxes(WPSEO_MENU, 'side', array())?>					</div>					<div id="post-body" class="postbox-container">						<div id="post-body-content" class="has-sidebar-content">							<?php do_meta_boxes(WPSEO_MENU, 'additional', array())?>						</div>					</div>				</div>			</form>		</div>	<?php }public static function metabox_custom(){$options=wpSEO_Options::get(); ?>		  	<table class="form-table">	  		<tr>				<th>					<input type="checkbox" name="title_manually" id="title_manually" value="1" <?php checked($options['title_manually'], 1)?> />				</th>				<td>					<label for="title_manually">						<?php esc_html_e('Display field for manual input of title', 'wpseo')?>					</label>					<small>						<?php esc_html_e('Assign a customized page title per each article or page', 'wpseo')?><?php wpSEO::help_icon(1)?>					</small>					<table class="level2">						<tr>							<td>								<input type="checkbox" name="title_column" id="title_column" value="1" <?php checked($options['title_column'], 1)?> />							</td>							<td>								<label for="title_column">						 			<?php esc_html_e('Column with manual assigned values in the article overview', 'wpseo')?>								</label>							</td>						</tr>						<tr>							<td>								<input type="checkbox" name="title_suggest" id="title_suggest" value="1" <?php checked($options['title_suggest'], 1)?> />							</td>							<td>								<label for="title_suggest">						 			<?php esc_html_e('Activate Google Suggest to add suggestions to your entries', 'wpseo')?><?php wpSEO::help_icon(80)?>								</label>							</td>						</tr>						<tr>							<td>								<input type="checkbox" name="title_manually_only" id="title_manually_only" value="1" <?php checked($options['title_manually_only'], 1)?> />							</td>							<td>								<label for="title_manually_only">						 			<?php esc_html_e('Output of manual page titles without auto complete', 'wpseo')?>								</label>							</td>						</tr>					</table>				</td>			</tr>			<tr>				<th>					<input type="checkbox" name="desc_manually" id="desc_manually" value="1" <?php checked($options['desc_manually'], 1)?> />				</th>				<td>					<label for="desc_manually">						<?php esc_html_e('Display field for manual input of description', 'wpseo')?>					</label>					<small>						<?php esc_html_e('Assign a customized description per article or page', 'wpseo')?><?php wpSEO::help_icon(1)?>					</small>					<table class="level2">						<tr>							<td>								<input type="checkbox" name="desc_column" id="desc_column" value="1" <?php checked($options['desc_column'], 1)?> />							</td>							<td>								<label for="desc_column">						 			<?php esc_html_e('Column with manual assigned values in the article overview', 'wpseo')?>								</label>							</td>						</tr>						<tr>							<td>								<input type="checkbox" name="desc_suggest" id="desc_suggest" value="1" <?php checked($options['desc_suggest'], 1)?> />							</td>							<td>								<label for="desc_suggest">						 			<?php esc_html_e('Activate Google Suggest to add suggestions to your entries', 'wpseo')?><?php wpSEO::help_icon(80)?>								</label>							</td>						</tr>					</table>				</td>			</tr>			<tr>				<th>					<input type="checkbox" name="key_manually" id="key_manually" value="1" <?php checked($options['key_manually'], 1)?> />				</th>				<td>					<label for="key_manually">						<?php esc_html_e('Display field for manual input of keywords', 'wpseo')?>					</label>					<small>						<?php esc_html_e('Assign customized keywords per article or page', 'wpseo')?><?php wpSEO::help_icon(1)?>					</small>					<table class="level2">						<tr>							<td>								<input type="checkbox" name="key_column" id="key_column" value="1" <?php checked($options['key_column'], 1)?> />							</td>							<td>								<label for="key_column">						 			<?php esc_html_e('Column with manual assigned values in the article overview', 'wpseo')?>								</label>							</td>						</tr>						<tr>							<td>								<input type="checkbox" name="key_suggest" id="key_suggest" value="1" <?php checked($options['key_suggest'], 1)?> />							</td>							<td>								<label for="key_suggest">						 			<?php esc_html_e('Activate Google Suggest to add suggestions to your entries', 'wpseo')?><?php wpSEO::help_icon(80)?>								</label>							</td>						</tr>												<tr>							<td>								<input type="checkbox" name="key_button" id="key_button" value="1" <?php checked($options['key_button'], 1)?> />							</td>							<td>								<label for="key_button">						 			<?php esc_html_e('Button for manual marks of keywords in article text', 'wpseo')?><?php wpSEO::help_icon(28)?>								</label>							</td>						</tr>					</table>				</td>			</tr>			<tr>				<th>					<input type="checkbox" name="noindex_manually" id="noindex_manually" value="1" <?php checked($options['noindex_manually'], 1)?> />				</th>				<td>					<label for="noindex_manually">						<?php esc_html_e('Display a choice for the manual control of indexing', 'wpseo')?>					</label>					<small>						<?php _e('Assign a customized robots value per article or page', 'wpseo')?><?php wpSEO::help_icon(1)?>					</small>					<table class="level2">						<tr>							<td>								<input type="checkbox" name="robots_column" id="robots_column" value="1" <?php checked($options['robots_column'], 1)?> />							</td>							<td>								<label for="robots_column">						 			<?php esc_html_e('Column with manual assigned values in the article overview', 'wpseo')?>								</label>							</td>						</tr>					</table>				</td>			</tr>			<tr>				<th>					<input type="checkbox" name="canonical_manually" id="canonical_manually" value="1" <?php checked($options['canonical_manually'], 1)?> />				</th>				<td>					<label for="canonical_manually">						<?php esc_html_e('Display field for manual input of canonical url', 'wpseo')?>					</label>					<small>						<?php _e('Assign a customized canonical value per article or page', 'wpseo')?><?php wpSEO::help_icon(1)?>					</small>					<table class="level2">						<tr>							<td>								<input type="checkbox" name="canonical_column" id="canonical_column" value="1" <?php checked($options['canonical_column'], 1)?> />							</td>							<td>								<label for="canonical_column">						 			<?php esc_html_e('Column with manual assigned values in the article overview', 'wpseo')?>								</label>							</td>						</tr>					</table>				</td>			</tr>			<tr>				<th>					<input type="checkbox" name="redirect_manually" id="redirect_manually" value="1" <?php checked($options['redirect_manually'], 1)?> />				</th>				<td>					<label for="redirect_manually">						<?php esc_html_e('Display field for manual input of redirect url', 'wpseo')?>					</label>					<small>						<?php _e('Assign a customized redirect value per article or page', 'wpseo')?><?php wpSEO::help_icon(69)?>					</small>					<table class="level2">						<tr>							<td>								<input type="checkbox" name="redirect_column" id="redirect_column" value="1" <?php checked($options['redirect_column'], 1)?> />							</td>							<td>								<label for="redirect_column">						 			<?php esc_html_e('Column with manual assigned values in the article overview', 'wpseo')?>								</label>							</td>						</tr>					</table>				</td>			</tr>			<tr>				<th>					<input type="checkbox" name="ignore_manually" id="ignore_manually" value="1" <?php checked($options['ignore_manually'], 1)?> />				</th>				<td>					<label for="ignore_manually">						<?php esc_html_e('Option to show internal exception list', 'wpseo')?>					</label>					<small>						<?php esc_html_e('No optimization by wpSEO for selected posts', 'wpseo')?><?php wpSEO::help_icon(1)?>					</small>					<table class="level2">						<tr>							<td>								<input type="checkbox" name="ignore_column" id="ignore_column" value="1" <?php checked($options['ignore_column'], 1)?> />							</td>							<td>								<label for="ignore_column">						 			<?php esc_html_e('Column with manually assigned exception of article overview', 'wpseo')?>								</label>							</td>						</tr>					</table>				</td>			</tr>						<tr>				<th>					<input type="checkbox" name="tax_manually" id="tax_manually" value="1" <?php checked($options['tax_manually'], 1)?> />				</th>				<td>					<label for="tax_manually">						<?php esc_html_e('Display field for taxonomy short description', 'wpseo')?>					</label>					<small>						<?php esc_html_e('Assign customized text for post tags, categories and taxonomies', 'wpseo')?><?php wpSEO::help_icon(1)?>					</small>				</td>			</tr>		</table>		<p class="submit">			<input type="submit" name="submit" value="<?php esc_attr_e('Save Changes')?>" />		</p>	<?php }public static function metabox_title(){$options=wpSEO_Options::get(); ?>		<table class="form-table">  			<tr>				<th>					<input type="checkbox" name="title_enable" id="title_enable" value="1" <?php checked($options['title_enable'], 1)?> />				</th>				<td>					<label for="title_enable">						<?php esc_html_e('Activate automatic generation of the page title', 'wpseo')?>					</label>					<small>						<?php esc_html_e('Output of the title in blog pages', 'wpseo')?><?php wpSEO::help_icon(1)?>					</small>					<table class="level2">						<tr>							<td>								<label>									<?php esc_html_e('Sort of placeholder via Drag&amp;Drop', 'wpseo')?>								</label>								<small>									<?php esc_html_e('Determination of the components and the arrangement in the title', 'wpseo')?><?php wpSEO::help_icon(1)?>								</small>							</td>						</tr>						<tr>							<td>								<?php foreach(wpSEO_Vars::get('group_items')as $item=> $name){$option='title_channel_' .$item; $default=array_keys(wpSEO_Vars::get('meta_title', $item)); $current=$options[$option]; $available=array_diff($default, $current); $dict=wpSEO_Vars::get('meta_title', $item); ?>									<fieldset>				    				<legend>				    					<?php esc_html_e($name, 'wpseo')?>				    				</legend>										<div class="sortable connect">											<input type="hidden" name="title_channel_<?php echo esc_attr($item)?>" id="title_channel_<?php echo esc_attr($item)?>" value="<?php echo esc_attr(implode(',', $current))?>" />											<div>												<p>													<?php esc_html_e('active', 'wpseo')?>												</p>												<ul class="x_axis"><?php self::_the_list($current, $option, $dict); ?></ul>											</div>											<div>												<p>													<?php esc_html_e('inactive', 'wpseo')?>												</p>												<ul class="y_axis"><?php self::_the_list($available, $option, $dict); ?></ul>											</div>										</div>									</fieldset>								<?php }?>							</td>						</tr>					</table>					<table class="level2">						<tr>							<td>								<label>									<?php esc_html_e('Text field as a placeholder', 'wpseo')?>								</label>								<small>									<?php esc_html_e('Assign a freely defined text for each section', 'wpseo')?><?php wpSEO::help_icon(1)?>								</small>							</td>						</tr>					</table>					<table class="level2 list">						<?php if(get_option('page_for_posts')){?>							<tr>								<td>									<label for="title_desc_home_home">										<?php esc_html_e('Blog startpage', 'wpseo')?>									</label>								</td>								<td>									<input type="text" name="title_desc_home_home" id="title_desc_home_home" value="<?php echo esc_attr($options['title_desc_home_home'])?>" />								</td>							</tr>						<?php }?>						<?php foreach(wpSEO_Vars::get('group_items')as $item=> $name){?>							<tr>								<td>									<label for="title_desc_<?php echo esc_attr($item)?>">										<?php esc_html_e($name, 'wpseo')?>									</label>								</td>								<td>									<input type="text" name="title_desc_<?php echo esc_attr($item)?>" id="title_desc_<?php echo esc_attr($item)?>" value="<?php echo esc_attr($options['title_desc_' .$item])?>" />								</td>							</tr>						<?php }?>					</table>					<table class="level2">						<tr>							<td>								<label>									<?php esc_html_e('Separator for placeholder', 'wpseo')?>								</label>								<small>									<?php esc_html_e('Sign as a visual separator between individual placeholders', 'wpseo')?><?php wpSEO::help_icon(1)?>								</small>								<input type="text" name="title_separator" id="title_separator" value="<?php echo esc_attr($options['title_separator'])?>" />							</td>						</tr>					</table>					<table class="level2">						<tr>							<td>								<label>									<?php esc_html_e('Reformatting the spelling', 'wpseo')?>								</label>								<small>									<?php esc_html_e('Conversion of Title in upper or lower case', 'wpseo')?><?php wpSEO::help_icon(1)?>								</small>								<select name="title_case" id="title_case">									<option value=""><?php esc_html_e('No', 'wpseo')?></option>									<?php foreach(wpSEO_Vars::get('title_format', $item)as $k=> $v){?>										<option value="<?php echo esc_attr($k)?>" <?php selected($options['title_case'], $k)?>><?php esc_html_e($v, 'wpseo')?></option>									<?php }?>								</select>							</td>						</tr>					</table>					<table class="level2">						<tr>							<td>								<input type="checkbox" name="title_cleanup" id="title_cleanup" value="1" <?php checked($options['title_cleanup'], 1)?> />							</td>							<td>								<label for="title_cleanup">						 			<?php esc_html_e('Cleanup of redundant code', 'wpseo')?>								</label>								<small>									<?php esc_html_e('Removal of HTML and other disturbing fragments', 'wpseo')?><?php wpSEO::help_icon(1)?>								</small>							</td>						</tr>					</table>				</td>			</tr>		</table>  		<p class="submit">			<input type="submit" name="submit" value="<?php esc_attr_e('Save Changes')?>" />		</p>	<?php }public static function metabox_desc(){$options=wpSEO_Options::get(); ?>				<table class="form-table">			<tr>				<th>					<input type="checkbox" name="desc_enable" id="desc_enable" value="1" <?php checked($options['desc_enable'], 1)?> />				</th>				<td>					<label for="desc_enable">						<?php esc_html_e('Activate automatic generation of the meta description', 'wpseo')?>					</label>					<small>						<?php esc_html_e('Output of the description as meta information in blog pages', 'wpseo')?><?php wpSEO::help_icon(1)?>					</small>					<table class="level2 list">						<?php foreach(wpSEO_Vars::get('group_items')as $item=> $name){?>							<tr>								<td>									<label for="desc_<?php echo esc_attr($item)?>">										<?php esc_html_e($name, 'wpseo')?>									</label>								</td>								<td>									<select name="desc_<?php echo esc_attr($item)?>" id="desc_<?php echo esc_attr($item)?>">										<option value=""><?php esc_html_e('No value', 'wpseo')?></option>										<?php foreach(wpSEO_Vars::get('meta_desc', $item)as $k=> $v){?>											<option value="<?php echo esc_attr($k)?>" <?php selected($options['desc_' .$item], $k)?>><?php esc_html_e($v, 'wpseo')?></option>										<?php }?>									</select>								</td>							</tr>						<?php }?>					</table>					<table class="level2">						<tr>							<td>								<input type="checkbox" name="desc_counter" id="desc_counter" value="1" <?php checked($options['desc_counter'], 1)?> />							</td>							<td>								<label for="desc_counter">						 			<?php esc_html_e('Limited to a maximum of 140 characters', 'wpseo')?>								</label>								<small>									<?php esc_html_e('Ensuring full visibility in Google Snippets', 'wpseo')?><?php wpSEO::help_icon(1)?>								</small>							</td>						</tr>						<tr>							<td>								<input type="checkbox" name="desc_tender" id="desc_tender" value="1" <?php checked($options['desc_tender'], 1)?> />							</td>							<td>								<label for="desc_tender">						 			<?php esc_html_e('Only full sentences', 'wpseo')?>								</label>								<small>									<?php esc_html_e('Shorter, but full sentences in search results', 'wpseo')?><?php wpSEO::help_icon(1)?>								</small>							</td>						</tr>					</table>				</td>			</tr>		</table>		<table class="form-table">			<tr>				<td>					<label for="desc_default">						<?php esc_html_e('Optional meta description on start page', 'wpseo')?>					</label>					<small>						<?php esc_html_e('Manual description for the start page', 'wpseo')?><?php wpSEO::help_icon(1)?>					</small>					<input type="text" name="desc_default" id="desc_default" class="regular-text" value="<?php echo esc_attr($options['desc_default'])?>" />				</td>			</tr>		</table>		<?php if(get_option('page_for_posts')){?>			<table class="form-table">				<tr>					<td>						<label for="desc_default_home">							<?php esc_html_e('Optional meta description on blog start page', 'wpseo')?>						</label>						<small>							<?php esc_html_e('Manual description for the blog start page', 'wpseo')?><?php wpSEO::help_icon(1)?>						</small>						<input type="text" name="desc_default_home" id="desc_default_home" class="regular-text" value="<?php echo esc_attr($options['desc_default_home'])?>" />					</td>				</tr>			</table>		<?php }?>  		<p class="submit">			<input type="submit" name="submit" value="<?php esc_attr_e('Save Changes')?>" />		</p>	<?php }public static function metabox_noindex(){$options=wpSEO_Options::get(); ?>			<table class="form-table">			<tr>				<th>					<input type="checkbox" name="noindex_enable" id="noindex_enable" value="1" <?php checked($options['noindex_enable'], 1)?> />				</th>				<td>					<label for="noindex_enable">						<?php esc_html_e('Activate automatic integration of the robots metatag', 'wpseo')?>					</label>					<small>						<?php esc_html_e('Control the indexing of individual areas of the website', 'wpseo')?><?php wpSEO::help_icon(1)?>					</small>					<table class="level2 list">						<?php foreach(wpSEO_Vars::get('group_items')as $item=> $name){?>							<tr>								<td>									<label for="noindex_<?php echo esc_attr($item)?>">										<?php esc_html_e($name, 'wpseo')?>									</label>								</td>								<td>									<select name="noindex_<?php echo esc_attr($item)?>" id="noindex_<?php echo esc_attr($item)?>">										<option value=""><?php esc_html_e('No value', 'wpseo')?></option>										<?php foreach(wpSEO_Vars::get('meta_robots')as $k=> $v){?>											<option value="<?php echo esc_attr($k)?>" <?php selected($options['noindex_' .$item], $k)?>><?php echo esc_html($v)?></option>										<?php }?>									</select>								</td>							</tr>						<?php }?>					</table>				</td>			</tr>		</table>		<table class="form-table">  			<tr>				<th>					<input type="checkbox" name="noindex_hidden" id="noindex_hidden" value="1" <?php checked($options['noindex_hidden'], 1)?> />				</th>				<td>					<label for="noindex_hidden">						<?php _e("Don't publish metatag values <em>index, follow</em> and <em>index</em>", 'wpseo')?>					</label>					<small>						<?php esc_html_e("Default values don't need declaration in source code", 'wpseo')?><?php wpSEO::help_icon(1)?>					</small>				</td>			</tr>		</table>		<table class="form-table">  			<tr>				<th>					<input type="checkbox" name="misc_noodp" id="misc_noodp" value="1" <?php checked($options['misc_noodp'], 1)?> />				</th>				<td>					<label for="misc_noodp">						<?php _e('Write Noodp as value in robots metatag', 'wpseo')?>					</label>					<small>						<?php esc_html_e('No data usage of DMOZ/ODP directory', 'wpseo')?><?php wpSEO::help_icon(1)?>					</small>				</td>			</tr>		</table>		<table class="form-table">  			<tr>				<th>					<input type="checkbox" name="misc_noarchive" id="misc_noarchive" value="1" <?php checked($options['misc_noarchive'], 1)?> />				</th>				<td>					<label for="misc_noarchive">						<?php _e('Write Noarchive as value in robots metatag', 'wpseo')?>					</label>					<small>						<?php esc_html_e('No caching of websites by search engines', 'wpseo')?><?php wpSEO::help_icon(1)?>					</small>				</td>			</tr>		</table>		<table class="form-table">  			<tr>				<th>					<input type="checkbox" name="noindex_age" id="noindex_age" value="1" <?php checked($options['noindex_age'], 1)?> />				</th>				<td>					<label for="noindex_age">						<?php _e('Set posts after 6 months as <em>noindex, follow</em>', 'wpseo')?>					</label>					<small>						<?php esc_html_e('Automatically block posts to be indexed', 'wpseo')?><?php wpSEO::help_icon(1)?>					</small>				</td>			</tr>		</table>		<table class="form-table">  			<tr>				<th>					<input type="checkbox" name="noindex_canonical" id="noindex_canonical" value="1" <?php checked($options['noindex_canonical'], 1)?> />				</th>				<td>					<label for="noindex_canonical">						<?php esc_html_e('Generate meta canonical tag for each webpage', 'wpseo')?>					</label>					<small>						<?php esc_html_e('Determine preferred permalink and output as canonical url', 'wpseo')?><?php wpSEO::help_icon(1)?>					</small>				</td>			</tr>		</table>		<p class="submit">			<input type="submit" name="submit" value="<?php esc_attr_e('Save Changes')?>" />		</p>	<?php }public static function metabox_perform(){$options=wpSEO_Options::get(); ?>			<table class="form-table">			<?php foreach(wpSEO_Vars::get('speed_nocheck')as $k=> $v){?>				<tr>					<th>						<input type="radio" name="speed_nocheck" id="speed_nocheck_<?php echo esc_attr($k)?>" value="<?php echo esc_attr($k)?>" <?php checked($options['speed_nocheck'], $k)?> />					</th>					<td>						<label for="speed_nocheck_<?php echo esc_attr($k)?>">							<?php esc_html_e($v[0], 'wpseo')?>						</label>						<small>							<?php esc_html_e($v[1], 'wpseo')?><?php wpSEO::help_icon(50)?>						</small>					</td>				</tr>			<?php }?>		</table>		<p class="submit">			<input type="submit" name="submit" value="<?php esc_attr_e('Save Changes')?>" />		</p>	<?php }public static function metabox_misc(){$options=wpSEO_Options::get(); if(!$order=$options['misc_order']){$order=array_keys(wpSEO_Vars::get('misc_order'));}?>  		<table class="form-table">  			<tr>				<th>					<input type="checkbox" name="misc_monitor" id="misc_monitor" value="1" <?php checked($options['misc_monitor'], 1)?> />				</th>				<td>					<label for="misc_monitor">						<?php esc_html_e('Display SEO Monitor on Dashboard', 'wpseo')?>					</label>					<small>						<?php esc_html_e('Relevant figures for the analysis of the SEO optimization', 'wpseo')?><?php wpSEO::help_icon(23)?>					</small>					<table class="level2">						<tr>							<td>								<input type="checkbox" name="misc_monitor_theme" id="misc_monitor_theme" value="1" <?php checked($options['misc_monitor_theme'], 1)?> />							</td>							<td>								<label for="misc_monitor_theme">						 			<?php esc_html_e('Allow theme access to the values', 'wpseo')?>								</label>							</td>						</tr>					</table>				</td>			</tr>			<tr>				<th>					<input type="checkbox" name="misc_attachment" id="misc_attachment" value="1" <?php checked($options['misc_attachment'], 1)?> />				</th>				<td>					<label for="misc_attachment">						<?php esc_html_e('Rename media using the media title', 'wpseo')?>					</label>					<small>						<?php esc_html_e('Usage of stored titles for optimized file name', 'wpseo')?><?php wpSEO::help_icon(43)?>					</small>					<table class="level2">						<tr>							<td>								<input type="checkbox" name="misc_attachment_limit" id="misc_attachment_limit" value="1" <?php checked($options['misc_attachment_limit'], 1)?> />							</td>							<td>								<label for="misc_attachment_limit">						 			<?php esc_html_e('Only use words with at least 4 characters', 'wpseo')?>								</label>							</td>						</tr>						<tr>							<td>								<input type="checkbox" name="misc_attachment_complete" id="misc_attachment_complete" value="1" <?php checked($options['misc_attachment_complete'], 1)?> />							</td>							<td>								<label for="misc_attachment_complete">						 			<?php esc_html_e('Generate missing alternate text from image title', 'wpseo')?>								</label>							</td>						</tr>					</table>				</td>			</tr>			<tr>				<th>					<input type="checkbox" name="misc_nextpage" id="misc_nextpage" value="1" <?php checked($options['misc_nextpage'], 1)?> />				</th>				<td>					<label for="misc_nextpage">						<?php esc_html_e('Allow meta data for multi page articles', 'wpseo')?>					</label>					<small>						<?php esc_html_e('Search for manual added SEO values on divided posts', 'wpseo')?><?php wpSEO::help_icon(41)?>					</small>					<table class="level2">						<tr>							<td>								<input type="checkbox" name="misc_nextpage_rewrite" id="misc_nextpage_rewrite" value="1" <?php checked($options['misc_nextpage_rewrite'], 1)?> />							</td>							<td>								<label for="misc_nextpage_rewrite">						 			<?php esc_html_e('Replace title of following article with nextpage title', 'wpseo')?>								</label>							</td>						</tr>					</table>				</td>			</tr>			<tr>				<th>					<input type="checkbox" name="paged_archive" id="paged_archive" value="1" <?php checked($options['paged_archive'], 1)?> />				</th>				<td>					<label for="paged_archive">						<?php _e('Treat paginated pages as <em>remaining pages</em>', 'wpseo')?>					</label>					<small>						<?php esc_html_e('At default the paginated pages inherit the setting of the main page', 'wpseo')?><?php wpSEO::help_icon(1)?>					</small>				</td>			</tr>			<tr>				<th>					<input type="checkbox" name="misc_section" id="misc_section" value="1" <?php checked($options['misc_section'], 1)?> />				</th>				<td>					<label for="misc_section">						<?php esc_html_e('Highlight article for Google AdSense', 'wpseo')?>					</label>					<small>						<?php esc_html_e('Invisible demarcation of content for Google AdSense', 'wpseo')?><?php wpSEO::help_icon(26)?>					</small>				</td>			</tr>						<tr>				<th>					<input type="checkbox" name="misc_hide_icon" id="misc_hide_icon" value="1" <?php checked($options['misc_hide_icon'], 1)?> />				</th>				<td>					<label for="misc_hide_icon">						<?php esc_html_e('Hide plugin icon in the sidebar', 'wpseo')?>					</label>					<small>						<?php esc_html_e('Plugin name without the icon graphic in the sidebar', 'wpseo')?>					</small>				</td>			</tr>		</table>		<table class="form-table">			<tr>				<td>					<label for="misc_lang">						<?php esc_html_e('Select language of frontend', 'wpseo')?>					</label>					<small>						<?php esc_html_e('Deactivation of language recognition but assignment of language', 'wpseo')?><?php wpSEO::help_icon(1)?>					</small>					<select name="misc_lang" id="misc_lang">						<?php foreach(wpSEO_Vars::get('plugin_lang')as $k=> $v){?>							<option value="<?php echo esc_attr($k)?>" <?php selected($options['misc_lang'], $k)?>><?php echo esc_html($v)?></option>						<?php }?>					</select>				</td>			</tr>		</table>		<table class="form-table">			<tr>				<td>					<label for="misc_order">						<?php esc_html_e('Order of meta tags via Drag&amp;Drop', 'wpseo')?>					</label>					<small>						<?php esc_html_e('Hierarchy of the page titles and the tags at the output', 'wpseo')?><?php wpSEO::help_icon(1)?>					</small>					<div class="sortable less">						<input type="hidden" name="misc_order" id="misc_order" value="<?php echo esc_attr(implode(',', $order)); ?>" />						<div>							<ul class="x_axis">								<?php self::_the_list($order, 'misc_order', wpSEO_Vars::get('misc_order')); ?>							</ul>						</div>					</div>				</td>			</tr>		</table>		<p class="submit">			<input type="submit" name="submit" value="<?php esc_attr_e('Save Changes')?>" />		</p>	<?php }public static function metabox_tools(){?>		<table class="form-table">			<tr>				<th>					<input type="submit" class="button" id="wpseo_action_export" value="<?php esc_attr_e('Export as XML', 'wpseo')?>" />	  			</th>	  			<td>	  				<label>						<?php esc_html_e('Save wpSEO options as XML', 'wpseo')?>					</label>					<small>						<?php esc_html_e('Suitable for forwarding, as a backup and import', 'wpseo')?><?php wpSEO::help_icon(6)?>					</small>	  			</td>			</tr>		   		<tr> 				<th> 					<input type="submit" class="button" id="wpseo_action_reset" value="<?php esc_attr_e('Reset wpSEO', 'wpseo')?>" /> 				</th> 				<td> 					<label>						<?php esc_html_e('Load default settings', 'wpseo')?>					</label>					<small>						<?php esc_html_e('Irrevocable loading of the default settings', 'wpseo')?><?php wpSEO::help_icon(27)?>					</small> 				</td>   			</tr>   			<tr> 				<th> 					<input type="submit" class="button" id="wpseo_action_import" value="<?php esc_attr_e('Import from XML', 'wpseo')?>" /> 				</th> 				<td> 					<label>						<input type="file" name="wpseo_upadd_file" title="<?php esc_attr_e('Please select the XML file first.', 'wpseo')?>" />					</label>					<small>						<?php esc_html_e('To Import XML file with wpSEO options', 'wpseo')?><?php wpSEO::help_icon(6)?>					</small> 				</td>   			</tr>   		</table>	<?php }}